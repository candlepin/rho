VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|

  # Create the rho-dev box
  config.vm.define "rho-dev_centos" do |dev|
    dev.vm.box = "centos/7"
    dev.vm.synced_folder ".", "/vagrant/rho", type: "nfs", nfs_version: 4, nfs_udp: false
    dev.vm.host_name = "rho-dev.example.com"

    dev.ssh.forward_x11 = true

    dev.vm.provider :libvirt do |domain|
        domain.cpus = 1
        domain.graphics_type = "spice"
        domain.memory = 2048
        domain.video_type = "qxl"
    end

    dev.vm.provision "ansible" do |ansible|
        ansible.playbook = "vagrant/rho-dev.yml"
    end
  end

  # Define a different box to be scanned during tests
  config.vm.define "test_centos" do |test_centos|
        test_centos.vm.box = "centos/7"
        test_centos.vm.host_name = "test1.example.com"

        test_centos.ssh.forward_x11 = true

        test_centos.vm.provider :libvirt do |domain|
            domain.cpus = 1
            domain.graphics_type = "spice"
            domain.memory = 2048
            domain.video_type = "qxl"
        end

        test_centos.vm.provision "ansible" do |ansible|
            ansible.playbook = "vagrant/test_centos.yml"
        end
    end

   config.vm.define "test_rhel7.1" do |test_rhel|
        test_rhel.vm.box = "thussain/rhel7"
        test_rhel.vm.host_name = "testrhel.example.com"

        test_rhel.ssh.forward_x11 = true

        test_rhel.vm.provider "virtualbox" do |domain|
            domain.cpus = 1
            domain.graphics_type = "spice"
            domain.memory = 2048
            domain.video_type = "qxl"
        end

        test_rhel.vm.provision "ansible" do |ansible|
            ansible.playbook = "vagrant/test_rhel.yml"
        end
    end
en